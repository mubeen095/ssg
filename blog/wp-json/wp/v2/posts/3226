{"id":3226,"date":"2024-05-10T11:41:06","date_gmt":"2024-05-10T11:41:06","guid":{"rendered":"https:\/\/www.skillvertex.com\/blog\/?p=3226"},"modified":"2024-05-10T11:41:06","modified_gmt":"2024-05-10T11:41:06","slug":"c-c-preprocessors","status":"publish","type":"post","link":"https:\/\/www.skillvertex.com\/blog\/c-c-preprocessors\/","title":{"rendered":"C\/C++ Preprocessors"},"content":{"rendered":"\n<div class=\"wp-block-rank-math-toc-block\" id=\"rank-math-toc\" id=\"rank-math-toc\"><p>Table of Contents<\/p><nav><ul><li ><a href=\"#c-c-preprocessors\">C\/C++ Preprocessors<\/a><\/li><li ><a href=\"#what-are-c-c-preprocessors\">What are C\/C++ Preprocessors<\/a><\/li><li ><a href=\"#preprocessor-directives-in-c-c\">Preprocessor Directives in C\/C++<\/a><\/li><li ><a href=\"#types-of-c-c-preprocessors\">Types of C\/C++ Preprocessors<\/a><\/li><li ><a href=\"#1-macros\">1. Macros<\/a><\/li><li ><a href=\"#macros-with-arguments\">Macros With Arguments<\/a><\/li><li ><a href=\"#2-file-inclusion\">2. File Inclusion<\/a><\/li><li ><a href=\"#standard-header-files\">Standard Header Files<\/a><\/li><li ><a href=\"#user-defined-header-files\">User-defined Header Files<\/a><\/li><li ><a href=\"#3-conditional-compilation\">3. Conditional Compilation<\/a><\/li><li ><a href=\"#other-directive\">Other Directive<\/a><\/li><li ><a href=\"#1-undef-directive\">1. #undef Directive<\/a><\/li><li ><a href=\"#2-pragma-directive\">2. #pragma Directive<\/a><\/li><li ><a href=\"#pragma-warn-directive\">#pragma warn Directive<\/a><\/li><li ><a href=\"#faq-c-c-preprocessors\">FAQ- C\/C++ Preprocessors<\/a><\/li><\/ul><\/nav><\/div>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"c-c-preprocessors\">C\/C++ Preprocessors<\/h2>\n\n\n\n<p>C\/C++ preprocessors are powerful tools that play a crucial role in the software development process. These tools are responsible for processing and modifying the source code before actual compilation, enabling developers to streamline their work, enhance code reusability, and improve code maintenance. By handling tasks such as including header files, defining macros, and performing conditional compilation, C\/C++ preprocessors help shape the code and make it more efficient, readable, and adaptable. In this introductory exploration, we will delve into the world of C\/C++ preprocessors to understand their significance and how they enhance the development of software in these programming languages.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"what-are-c-c-preprocessors\">What are C\/C++ Preprocessors<\/h2>\n\n\n\n<p>Preprocessors are those which can process source code before compilation. There are several steps that will involve writing a program and executing the program in C\/C++. <\/p>\n\n\n\n<ol class=\"wp-block-list\">\n<li><strong>Preprocessing:<\/strong> The source code file &#8220;program.c&#8221; is processed by preprocessors. This step results in the creation of an expanded source code file known as &#8220;program.i.&#8221;<\/li>\n\n\n\n<li><strong>Compilation:<\/strong> The &#8220;program.i&#8221; file, which has been expanded by the preprocessor, is then compiled by the compiler. The compiler&#8217;s job is to translate the code into a lower-level language or machine code. The outcome of this step is an object code file named &#8220;program.obj.&#8221;<\/li>\n\n\n\n<li><strong>Linking:<\/strong> The linker comes into play. It takes the &#8220;program.obj&#8221; file and combines it with object code from library functions. This linking process results in the generation of the final executable file named &#8220;program.exe.&#8221;<\/li>\n<\/ol>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"preprocessor-directives-in-c-c\">Preprocessor Directives in C\/C++<\/h2>\n\n\n\n<p>The Preprocessor program will provide the preprocessor directive that can guide the compiler to preprocess the source code before compiling. Preprocessor directives will begin with a (# ) symbol. This # symbol will refer to whatever statement begins with # and, further, it will go to the preprocessor program to be executed. Thereafter, we can even place these preprocessor directives anywhere in the program.<\/p>\n\n\n\n<p><strong>The following table about  the preprocessor directives in C\/C++:<\/strong><\/p>\n\n\n\n<figure class=\"wp-block-table\"><table><thead><tr><th>Preprocessor Directives<\/th><th>Description<\/th><\/tr><\/thead><tbody><tr><td><strong>#define<\/strong><\/td><td>It is used to define a macro<\/td><\/tr><tr><td><strong>#undef<\/strong><\/td><td>It is used  to undefine a macro<\/td><\/tr><tr><td><strong>#include<\/strong><\/td><td>This preprocessor is used to include a file in the source code program<\/td><\/tr><tr><td><strong>#ifdef<\/strong><\/td><td>This is used to include a section of code if a certain macro is not defined by #define<\/td><\/tr><tr><td><strong>#ifndef<\/strong><\/td><td>This is used to include a section of code when a certain macro is not defined by #define<\/td><\/tr><tr><td><strong>#if<\/strong><\/td><td>Used to monitor  the specified condition<\/td><\/tr><tr><td>#else<\/td><td># else is another alternative that will execute when#if fails <\/td><\/tr><tr><td>#endif<\/td><td>It is used to indicate the end of #if,#ifdef, and#ifndef<\/td><\/tr><\/tbody><\/table><\/figure>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"types-of-c-c-preprocessors\">Types of C\/C++ Preprocessors<\/h2>\n\n\n\n<p>4 Main types of preprocessor directives are:<\/p>\n\n\n\n<ol class=\"wp-block-list\">\n<li>Macros<\/li>\n\n\n\n<li>File Inclusion<\/li>\n\n\n\n<li>Conditional Compilation<\/li>\n\n\n\n<li>Other directives<\/li>\n<\/ol>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"1-macros\">1. Macros<\/h2>\n\n\n\n<p>In C\/C++, macros are like shortcuts for code. They are created by giving a name to a piece of code. When the compiler sees this name in your program, it replaces it with the actual code. To make macros, we use the <code>#define<\/code> directive. This allows us to define these handy code snippets for reuse in our programs.<\/p>\n\n\n\n<p>Syntax of Macro Definition<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#define token value\n<\/code><\/pre>\n\n\n\n<p>Example<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ C Program to illustrate the macro\n#include &lt;stdio.h&gt;\n \n\/\/ macro definition\n#define LIMIT 5\n \nint main()\n{\n    for (int i = 0; i &lt; LIMIT; i++) {\n        printf(\"%d \\n\", i);\n    }\n \n    return 0;\n}<\/code><\/pre>\n\n\n\n<p>Output<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>0 \n1 \n2 \n3 \n4<\/code><\/pre>\n\n\n\n<p>The above program illustrates that the compiler will execute the word  LIMIT and later, it will replace it with 5. Hence, LIMIT in the macro definition is known as the macro template, and 5 as the macro expansion.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"macros-with-arguments\">Macros With Arguments<\/h2>\n\n\n\n<p>Macros in C\/C++ can indeed be defined with arguments, and they work somewhat like functions. When you define a macro with arguments, you can use those arguments within the macro code to make it more flexible and versatile. These macros are known as &#8220;function-like macros.&#8221; They enable you to create reusable code blocks with parameters, similar to functions, but they are preprocessed and substituted directly into your code, often resulting in more efficient code execution.<\/p>\n\n\n\n<p>Example<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#define foo(a, b) a + b\n#define func(r) r * r<\/code><\/pre>\n\n\n\n<pre class=\"wp-block-code\"><code>\n\/\/ C Program to illustrate function like macros\n#include &lt;stdio.h&gt;\n \n\/\/ macro with parameter\n#define AREA(l, b) (l * b)\n \nint main()\n{\n    int l1 = 10, l2 = 5, area;\n \n    area = AREA(l1, l2);\n \n    printf(\"Area of rectangle is: %d\", area);\n \n    return 0;\n}<\/code><\/pre>\n\n\n\n<p>Output<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>Area of rectangle is: 50\n<\/code><\/pre>\n\n\n\n<p>The program you&#8217;ve described illustrates how macros work. When the compiler encounters the macro <code>AREA(l, b)<\/code> in your code, it directly replaces it with the statement <code>(l * b)<\/code>. Additionally, any values you pass to the macro, like in <code>AREA(10, 5)<\/code>, will also be substituted into the statement. So, <code>AREA(10, 5)<\/code> is effectively equal to <code>10 * 5<\/code>, making it a simple way to create reusable code snippets with dynamic values.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"2-file-inclusion\">2. File Inclusion<\/h2>\n\n\n\n<p>This type of preprocessor directive will insist the compiler to include a file in the source code program. The #include preprocessor director will include the header files in the C\/C ++ program.<\/p>\n\n\n\n<p><strong>There are two types of files that can be included by the user in the program:<\/strong><\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"standard-header-files\"><strong>Standard Header Files<\/strong><\/h2>\n\n\n\n<p>The stanard header file will contain definition of pre-defined function such as print f () , scan(). Those files should be included to work with those functions. Additionaly, different functions will declared in different header files.<\/p>\n\n\n\n<p>So, standard I\/O function will be in the &#8216;iostream file&#8217;, and functions that will perform string operation will be in the string file.<\/p>\n\n\n\n<p>Syntax<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#include &lt;file_name&gt;\n<\/code><\/pre>\n\n\n\n<p>In the syntax given above, file_name refer to the name of the header file that should be included.  The &lt; and &gt; brackets will assist the compiler to search the file in the standard directory.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"user-defined-header-files\"><strong>User-defined Header Files<\/strong><\/h2>\n\n\n\n<p>When a program turns into large, it is better to change into smaller files and the, include them in whatever required. Those types of files are user-defined header files. They can be included as:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#include \"filename\"\n<\/code><\/pre>\n\n\n\n<p>(&#8220;&#8221; ) These double quotes will tell about the compiler and to look for the header file in the source file&#8217;s directory.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"3-conditional-compilation\"><strong>3. Conditional Compilation<\/strong><\/h2>\n\n\n\n<p>It is a type of directive which is used to compile a small portion of the program or skip the compilation of some specific part of the program depending on certain conditions. Preprocessor directive which are used to insert the conditional code.<\/p>\n\n\n\n<ol class=\"wp-block-list\">\n<li><strong>#if Directive<\/strong><\/li>\n\n\n\n<li><strong>#ifdef Directive<\/strong><\/li>\n\n\n\n<li><strong>#ifndef Directive<\/strong><\/li>\n\n\n\n<li><strong>#else Directive<\/strong><\/li>\n\n\n\n<li><strong>#elif Directive<\/strong><\/li>\n\n\n\n<li><strong>#endif Directive<\/strong><\/li>\n<\/ol>\n\n\n\n<p><strong>#endif<\/strong>&nbsp;directive functions  to close off the #if, #ifdef, and #ifndef opening directives, and it refers that  the preprocessing of these directives is hence completed.<\/p>\n\n\n\n<p>Syntax<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#ifdef macro_name\n    statement1;\n    statement2;\n    statement3;\n    .\n    .\n    .\n    statementN;\n#endif<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"other-directive\">Other Directive<\/h2>\n\n\n\n<p>The directive that are not commonly used are:<\/p>\n\n\n\n<ol class=\"wp-block-list\">\n<li><strong>#undef Directive<\/strong><\/li>\n\n\n\n<li><strong>#pragma Directive<\/strong><\/li>\n<\/ol>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"1-undef-directive\"><strong>1. #undef Directive<\/strong><\/h2>\n\n\n\n<p>This is used to undefine an existing macro.<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#undef LIMIT\n<\/code><\/pre>\n\n\n\n<p>&nbsp;After this statement, every \u201c#ifdef LIMIT\u201d statement will be evaluated as false.&nbsp;<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"2-pragma-directive\">2. #pragma Directive<\/h2>\n\n\n\n<p>This directive has a special purpose directive and, also to turn on or off some features. These types of directives are basically compiler-specific, i.e., they will vary from compiler to compiler. Some of the #pragma directives are discussed below:&nbsp;<\/p>\n\n\n\n<ol class=\"wp-block-list\">\n<li><strong>#pragma startup:&nbsp;<\/strong>These directives are used to specify the functions that are required to run before program startup (before the control passes to main()).<\/li>\n\n\n\n<li><strong>#pragma exit<\/strong>: These directives help us to specify the functions that are needed to run just before the program exit (just before the control returns from main()).<\/li>\n<\/ol>\n\n\n\n<p>Example<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ C program to illustrate the #pragma exit and pragma\n\/\/ startup\n#include &lt;stdio.h&gt;\n \nvoid func1();\nvoid func2();\n \n\/\/ specifying funct1 to execute at start\n#pragma startup func1\n\/\/ specifying funct2 to execute before end\n#pragma exit func2\n \nvoid func1() { printf(\"Inside func1()\\n\"); }\n \nvoid func2() { printf(\"Inside func2()\\n\"); }\n \n\/\/ driver code\nint main()\n{\n    void func1();\n    void func2();\n    printf(\"Inside main()\\n\");\n \n    return 0;\n}<\/code><\/pre>\n\n\n\n<p>Output<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>Inside main()\n<\/code><\/pre>\n\n\n\n<p>Expected Output<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>Inside func1()\nInside main()\nInside func2()<\/code><\/pre>\n\n\n\n<p>While running on GCC Compilers, it will show output as below:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>Inside main()\n<\/code><\/pre>\n\n\n\n<p>This happens as GCC won&#8217;t support #pragma startup or exit. Hence, you can use the below code for the expected output on GCC compilers.&nbsp;<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\n\n#include &lt;iostream&gt;\nusing namespace std;\n \nvoid func1();\nvoid func2();\n \nvoid __attribute__((constructor)) func1();\nvoid __attribute__((destructor)) func2();\n \nvoid func1()\n{\n    printf(\"Inside func1()\\n\");\n}\n \nvoid func2()\n{\n    printf(\"Inside func2()\\n\");\n}\n \n\/\/ Driver code\nint main()\n{\n    printf(\"Inside main()\\n\");\n \n    return 0;\n}<\/code><\/pre>\n\n\n\n<p>Output<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>Inside func1()\nInside main()\nInside func2()<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"pragma-warn-directive\"><strong>#pragma warn Directive<\/strong><\/h2>\n\n\n\n<p>This directive intends to hide the warning message that  are  displayed during compilation.&nbsp;We can hide the warnings as shown below:&nbsp;<\/p>\n\n\n\n<ul class=\"wp-block-list\">\n<li><strong>#pragma warn -rvl<\/strong>: This directive hides those warnings that are raised when a function that is supposed to return a value does not return a value.<\/li>\n\n\n\n<li><strong>#pragma warn -par<\/strong>: This directive hides those warnings that are raised when a function won&#8217;t use the parameters passed to it.<\/li>\n\n\n\n<li><strong>#pragma warn -rch<\/strong>: This directive hides those warnings which are raised when a code is unreachable. For example, any code written after the&nbsp;<em>return<\/em>&nbsp;statement in a function is unreachable.<\/li>\n<\/ul>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"faq-c-c-preprocessors\">FAQ- C\/C++ Preprocessors<\/h2>\n\n\n<div id=\"rank-math-faq\" class=\"rank-math-block\">\n<div class=\"rank-math-list \">\n<div id=\"faq-question-1698927109746\" class=\"rank-math-list-item\">\n<h4 class=\"rank-math-question \">Q1. What is the preprocessor in C++?<\/h4>\n<div class=\"rank-math-answer \">\n\n<p>Ans. The preprocessor can perform the preliminary operations on C and C++ files before they are passed to the compiler. Therefore, you can add the preprocessor to conditionally compile code, insert files, specify compile-time error messages, and apply machine-specific rules to sections of code<\/p>\n\n<\/div>\n<\/div>\n<div id=\"faq-question-1698927115582\" class=\"rank-math-list-item\">\n<h4 class=\"rank-math-question \">Q2. What is #define in C++?<\/h4>\n<div class=\"rank-math-answer \">\n\n<p>Ans. When you use <code>#define<\/code> in your code, you create a macro that associates an identifier (or parameterized identifier) with a token string. Once defined, the compiler replaces every instance of that identifier in the source file with the specified token string. This allows you to create shortcuts, constants, or reusable code blocks that make your code more readable and efficient.<\/p>\n\n<\/div>\n<\/div>\n<div id=\"faq-question-1698927120401\" class=\"rank-math-list-item\">\n<h4 class=\"rank-math-question \">Q3. Which of the following are C preprocessors?<\/h4>\n<div class=\"rank-math-answer \">\n\n<p>Ans. <code>#define<\/code>, <code>#ifdef<\/code>, and <code>#endif<\/code> are all part of the C preprocessor. The C compiler automatically employs the C preprocessor, which is essentially a macro processor, to modify your program before the actual compilation. These preprocessor directives are used to define macros, conditionally include or exclude parts of the code, and perform various other preprocessing tasks to prepare the code for compilation. They are an integral part of the C programming language and contribute to code organization, optimization, and customization.<\/p>\n\n<\/div>\n<\/div>\n<\/div>\n<\/div>","protected":false},"excerpt":{"rendered":"<p>C\/C++ Preprocessors C\/C++ preprocessors are powerful tools that play a crucial role in the software development process. These tools are responsible for processing and modifying the source code before actual compilation, enabling developers to streamline their work, enhance code reusability, and improve code maintenance. By handling tasks such as including header files, defining macros, and &#8230; <a title=\"C\/C++ Preprocessors\" class=\"read-more\" href=\"https:\/\/www.skillvertex.com\/blog\/c-c-preprocessors\/\" aria-label=\"More on C\/C++ Preprocessors\">Read more<\/a><\/p>\n","protected":false},"author":4,"featured_media":5406,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[27],"tags":[533],"class_list":["post-3226","post","type-post","status-publish","format-standard","has-post-thumbnail","hentry","category-c-programming","tag-c-c-preprocessors","generate-columns","tablet-grid-50","mobile-grid-100","grid-parent","grid-33"],"_links":{"self":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts\/3226"}],"collection":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/users\/4"}],"replies":[{"embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/comments?post=3226"}],"version-history":[{"count":9,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts\/3226\/revisions"}],"predecessor-version":[{"id":10751,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts\/3226\/revisions\/10751"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/media\/5406"}],"wp:attachment":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/media?parent=3226"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/categories?post=3226"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/tags?post=3226"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}