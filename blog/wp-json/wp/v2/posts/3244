{"id":3244,"date":"2024-05-10T11:46:22","date_gmt":"2024-05-10T11:46:22","guid":{"rendered":"https:\/\/www.skillvertex.com\/blog\/?p=3244"},"modified":"2024-05-10T11:46:22","modified_gmt":"2024-05-10T11:46:22","slug":"how-does-a-preprocessor-work-in-c","status":"publish","type":"post","link":"https:\/\/www.skillvertex.com\/blog\/how-does-a-preprocessor-work-in-c\/","title":{"rendered":"How Does A Preprocessor Work In C?"},"content":{"rendered":"\n<div class=\"wp-block-rank-math-toc-block\" id=\"rank-math-toc\" id=\"rank-math-toc\"><p>Table of Contents<\/p><nav><ul><li ><a href=\"#how-does-a-preprocessor-work-in-c\">How Does A Preprocessor Work In C?<\/a><\/li><li ><a href=\"#a-preprocessor-will-perform-three-tasks-on-hll-code\">A Preprocessor will perform three tasks on HLL Code<\/a><\/li><li ><a href=\"#faq-how-does-a-preprocessor-work-in-c\">FAQ- How Does A Preprocessor Work In C?<\/a><\/li><\/ul><\/nav><\/div>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"how-does-a-preprocessor-work-in-c\">How Does A Preprocessor Work In C?<\/h2>\n\n\n\n<p>The preprocessor is indeed a system software component in the context of languages like C and C++. It performs preprocessing of the high-level language source code before actual compilation. The primary purpose of the preprocessor is to prepare the code for translation into machine-level language or absolute machine code that can be executed by the computer&#8217;s hardware.<\/p>\n\n\n\n<p>In the context of languages like C and C++, the preprocessor handles tasks such as macro expansion, including header files, conditional compilation, and other text-based transformations on the source code, which is an essential step in the overall compilation process.<\/p>\n\n\n\n<p>The preprocessor in C and C++ operates on a text-based level and doesn&#8217;t have an understanding of the scope rules or the program&#8217;s block structure. Preprocessor directives like #define take effect as soon as they are encountered in the source code and remain in effect until the end of the file that contains them.<\/p>\n\n\n\n<p>This means that preprocessor macros and directives are not subject to the same scope rules and block structure as regular C or C++ code. They are essentially a text substitution mechanism, and their effects extend throughout the entire file in which they are defined. This lack of awareness of scope and block structure is an important consideration when using preprocessor directives, as it can lead to unintended consequences if macros are not used carefully.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"a-preprocessor-will-perform-three-tasks-on-hll-code\">A Preprocessor will perform three tasks on HLL Code<\/h2>\n\n\n\n<p>1.<strong>Removing Comments<\/strong>: While it is true that comments are meant for human readability and are ignored by the compiler during the compilation process, they are typically removed by the preprocessor. The actual removal of comments occurs during the preprocessing stage in the C and C++ compilation process.<\/p>\n\n\n\n<p>However, you don&#8217;t need to explicitly use <code>gcc -E<\/code> to preprocess the source code and remove comments. The <code>-E<\/code> flag is used to generate the preprocessed output, which includes comments and other preprocessing directives. To remove comments and generate a cleaned source code file without preprocessing directives, you can use a tool like <code>sed<\/code> in Linux. <\/p>\n\n\n\n<p>2.<strong>File Inclusion<\/strong>: The <code>#include<\/code> directive is used to include the contents of a library or header file in your program. It allows you to use functions, variables, and definitions from those files in your code.<\/p>\n\n\n\n<p>You&#8217;ve also correctly noted the distinction between using angle brackets (<code>&lt;&gt;<\/code>) and double quotes (<code>\"\"<\/code>) when specifying the filename to include:<\/p>\n\n\n\n<ul class=\"wp-block-list\">\n<li>When you use angle brackets (<code>&lt;&gt;<\/code>), the preprocessor searches for the file in the standard compiler include paths.<\/li>\n\n\n\n<li>When you use double quotes (<code>\"\"<\/code>), the search path is expanded to include the current source directory, making it easier to include files that are part of your project.<\/li>\n<\/ul>\n\n\n\n<p>This flexibility in specifying the include paths allows you to include standard library headers as well as headers from your project&#8217;s directory or other custom locations.<\/p>\n\n\n\n<p>3. <strong><a href=\"https:\/\/www.geeksforgeeks.org\/interesting-facts-preprocessors-c\/\" rel=\"nofollow noopener\" target=\"_blank\">Macro<\/a>&nbsp;expansion<\/strong>: Macros in C and C++ can be thought of as text substitutions that are performed by the preprocessor before compilation. They are often used for code that needs to be repeated or is small in nature, as they can provide performance benefits by avoiding the overhead of a function call.<\/p>\n\n\n\n<p>One common use case for macros is when you need to perform a simple operation repeatedly, especially in situations where you want to avoid the function call overhead. However, it&#8217;s important to be cautious when using macros, as they lack the type-checking and safety features of functions. Macros are essentially textual replacements and can lead to unexpected behavior if not used carefully. Additionally, functions are generally more readable and maintainable, so it&#8217;s essential to strike a balance between code performance and code clarity.<\/p>\n\n\n\n<p>Defining these macros is basically by preprocessor:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#define SI 1000\n<\/code><\/pre>\n\n\n\n<p>This illustrates an example of a macro<\/p>\n\n\n\n<p><strong>Object-like Macros (or Object Macros)<\/strong>: These macros do not take any parameters and are essentially simple text substitutions. They are defined using <code>#define<\/code> and typically used for constants or straightforward textual substitutions.<\/p>\n\n\n\n<p><strong>Function-like Macros<\/strong>: These macros can take parameters and are used for more complex substitutions. They are defined using <code>#define<\/code> with parameters and can be thought of as small, inline functions.<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ object-like macro\n#define        \n\/\/ function-like macro          \n#define ()   <\/code><\/pre>\n\n\n\n<p>We can also delete a macro definition with #umdef:<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>\/\/ delete the macro\n# undef  <\/code><\/pre>\n\n\n\n<p>Also, a multi-line macro can be written the same as a function. But, each statement will end with &#8220;\/&#8221;<\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>#include &lt;stdio.h&gt; \n   \n#define MACRO(num, str) {\\ \n            printf(\"%d\", num);\\ \n            printf(\" is\");\\ \n            printf(\" %s number\", str);\\ \n            printf(\"\\n\");\\ \n           }<\/code><\/pre>\n\n\n\n<h2 class=\"wp-block-heading\" id=\"faq-how-does-a-preprocessor-work-in-c\">FAQ- How Does A Preprocessor Work In C?<\/h2>\n\n\n<div id=\"rank-math-faq\" class=\"rank-math-block\">\n<div class=\"rank-math-list \">\n<div id=\"faq-question-1699004359283\" class=\"rank-math-list-item\">\n<h4 class=\"rank-math-question \">Q1. How does a preprocessor work in C?<\/h4>\n<div class=\"rank-math-answer \">\n\n<p>Ans. The C preprocessor is indeed a macro processor that is automatically invoked by the C compiler to preprocess your source code before the actual compilation process begins. It allows you to define macros, which are essentially shortcuts or abbreviations for longer code constructs, making your code more concise and readable. Macros are expanded during preprocessing, which means that the preprocessor replaces macro invocations with their corresponding definitions, effectively transforming your source code.<\/p>\n\n<\/div>\n<\/div>\n<div id=\"faq-question-1699004367725\" class=\"rank-math-list-item\">\n<h4 class=\"rank-math-question \">Q2. What is the symbol of preprocessor in C?<\/h4>\n<div class=\"rank-math-answer \">\n\n<p>Ans. # (hash) symbol is the symbol of preprocessor in C.<\/p>\n\n<\/div>\n<\/div>\n<div id=\"faq-question-1699004375014\" class=\"rank-math-list-item\">\n<h4 class=\"rank-math-question \">Q3. What is the difference between processor and preprocessor in C?<\/h4>\n<div class=\"rank-math-answer \">\n\n<p>Ans. A preprocessor and a processor have different jobs:<br \/><strong>Preprocessor<\/strong>: This is like a helper for the compiler. It gets your code ready for the real work. It does things like replacing shortcuts with full code, including other files, and choosing which parts of code to keep or throw away. But it doesn&#8217;t actually run the code.<br \/><strong>Processor (CPU)<\/strong>: This is the computer&#8217;s brain. It takes the code prepared by the compiler and does the actual work, like calculations and making your computer do things. It&#8217;s all about execution.<\/p>\n\n<\/div>\n<\/div>\n<\/div>\n<\/div>","protected":false},"excerpt":{"rendered":"<p>How Does A Preprocessor Work In C? The preprocessor is indeed a system software component in the context of languages like C and C++. It performs preprocessing of the high-level language source code before actual compilation. The primary purpose of the preprocessor is to prepare the code for translation into machine-level language or absolute machine &#8230; <a title=\"How Does A Preprocessor Work In C?\" class=\"read-more\" href=\"https:\/\/www.skillvertex.com\/blog\/how-does-a-preprocessor-work-in-c\/\" aria-label=\"More on How Does A Preprocessor Work In C?\">Read more<\/a><\/p>\n","protected":false},"author":4,"featured_media":3245,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[27],"tags":[538],"class_list":["post-3244","post","type-post","status-publish","format-standard","has-post-thumbnail","hentry","category-c-programming","tag-how-does-a-preprocessor-work-in-c","generate-columns","tablet-grid-50","mobile-grid-100","grid-parent","grid-33"],"_links":{"self":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts\/3244"}],"collection":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/users\/4"}],"replies":[{"embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/comments?post=3244"}],"version-history":[{"count":7,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts\/3244\/revisions"}],"predecessor-version":[{"id":10753,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/posts\/3244\/revisions\/10753"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/media\/3245"}],"wp:attachment":[{"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/media?parent=3244"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/categories?post=3244"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/www.skillvertex.com\/blog\/wp-json\/wp\/v2\/tags?post=3244"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}